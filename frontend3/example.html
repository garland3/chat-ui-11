<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Advanced Chat UI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <style>
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #4a5568; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #718096; }

        /* Streaming text cursor */
        .streaming-cursor::after {
            content: '▋';
            display: inline-block;
            animation: blink-caret .75s step-end infinite;
            color: #06b6d4;
        }
        @keyframes blink-caret { from, to { opacity: 1 } 50% { opacity: 0 } }
        
        /* Transitions */
        .transition-all { transition: all 0.3s ease-in-out; }
        #left-sidebar, #right-sidebar, #chat-panel, #canvas-panel { transition: all 0.3s ease-in-out; }

        /* Hide default file input */
        #file-upload-input { display: none; }

        /* Modal styles */
        .modal-backdrop { background-color: rgba(0, 0, 0, 0.7); backdrop-filter: blur(4px); }

        /* Tab styles for mobile */
        .tab-button { border-bottom: 2px solid transparent; }
        .tab-button.active { border-bottom-color: #06B6D4; color: #E5E7EB; }

        /* Responsive Sidebar (Mobile) */
        @media (max-width: 1024px) {
            #left-sidebar, #right-sidebar {
                position: fixed; top: 0; bottom: 0; z-index: 100;
                transform: translateX(-100%);
                box-shadow: 0 0 20px rgba(0,0,0,0.5);
            }
            #right-sidebar { right: 0; transform: translateX(100%); }
            #left-sidebar.open { transform: translateX(0); }
            #right-sidebar.open { transform: translateX(0); }
        }
    </style>
    <script>
      // Tailwind CSS Configuration
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              'gray-900': '#121212', 'gray-800': '#1E1E1E', 'gray-700': '#2D2D2D',
              'gray-600': '#4A4A4A', 'gray-500': '#6B7280', 'cyan-500': '#06B6D4',
              'cyan-600': '#0891B2',
            }
          }
        }
      }
    </script>
</head>
<body class="bg-gray-900 text-gray-200 font-sans antialiased overflow-hidden">

    <!-- Toast Notification Container -->
    <div id="toast-container" class="fixed top-5 right-5 z-[200] space-y-2"></div>

    <!-- Tool Marketplace Modal -->
    <div id="tool-marketplace-modal" class="fixed inset-0 z-[150] items-center justify-center hidden modal-backdrop">
        <div class="bg-gray-800 w-full max-w-3xl rounded-lg shadow-xl border border-gray-700 flex flex-col">
            <div class="flex justify-between items-center mb-4 p-6 border-b border-gray-700">
                <h2 class="text-2xl font-bold">Tool Marketplace</h2>
                <button onclick="toggleModal(false)" class="text-gray-400 hover:text-white text-2xl">&times;</button>
            </div>
            <div id="marketplace-tool-list" class="space-y-4 p-6 overflow-y-auto"></div>
        </div>
    </div>

    <!-- Main Application Container -->
    <div id="app" class="flex h-screen w-screen relative">

        <!-- Announcement Banner -->
        <div id="announcement-banner" class="absolute top-0 left-0 right-0 bg-cyan-600 text-white text-center p-2 text-sm z-50 flex justify-between items-center">
            <span>Welcome to the new Gemini interface! ✨ <a href="#" class="underline font-semibold">Learn more</a></span>
            <button onclick="document.getElementById('announcement-banner').style.display='none'" class="px-2">&times;</button>
        </div>

        <!-- Left Sidebar -->
        <aside id="left-sidebar" class="w-72 bg-gray-800 flex-shrink-0 flex flex-col p-4 space-y-4 border-r border-gray-700 lg:relative">
            <div class="flex justify-between items-center"><h1 class="text-xl font-bold">Gemini Chat</h1><button class="lg:hidden" onclick="toggleSidebar('left-sidebar', true)"><i class="fas fa-times"></i></button></div>
            <div><label for="workspace-select" class="text-sm font-semibold text-gray-400 mb-1 block">Workspace</label><select id="workspace-select" class="w-full bg-gray-700 border-gray-600 rounded-md p-2 text-sm focus:ring-cyan-500 focus:border-cyan-500" onchange="loadWorkspace(this.value)"></select></div>
            <button class="w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-4 rounded-lg transition-all flex items-center justify-center"><i class="fas fa-plus mr-2"></i> New Chat</button>
            <div class="flex-grow overflow-y-auto space-y-4">
                <div><h2 class="text-sm font-semibold text-gray-400 mb-2">History</h2><ul id="conversation-list" class="space-y-2"><li class="bg-gray-700 p-2 rounded-lg cursor-pointer hover:bg-gray-600 transition-all">Analyze sales_data.csv</li><li class="p-2 rounded-lg cursor-pointer hover:bg-gray-600 transition-all">Draft marketing copy</li></ul></div>
                <div><h2 class="text-sm font-semibold text-gray-400 mb-2">RAG Sources</h2><input type="search" id="rag-search" placeholder="Filter sources..." class="w-full bg-gray-700 border-gray-600 rounded-md p-2 text-sm mb-2 focus:ring-cyan-500 focus:border-cyan-500" oninput="renderRagSources(this.value)"><div id="rag-source-list" class="space-y-2"></div><button id="rag-show-more" onclick="toggleRagSources(true)" class="text-cyan-400 text-sm mt-2 hover:underline">Show More</button></div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main id="main-content" class="flex-1 flex flex-col bg-gray-900 pt-10 relative">
            <!-- Sidebar Collapse Toggles (Desktop) -->
            <button onclick="toggleDesktopSidebar('left-sidebar')" class="hidden lg:flex absolute top-1/2 -left-3 z-20 w-6 h-16 bg-gray-700 hover:bg-cyan-600 rounded-r-lg items-center justify-center transition-all"><i id="left-toggle-icon" class="fas fa-chevron-left"></i></button>
            <button onclick="toggleDesktopSidebar('right-sidebar')" class="hidden lg:flex absolute top-1/2 -right-3 z-20 w-6 h-16 bg-gray-700 hover:bg-cyan-600 rounded-l-lg items-center justify-center transition-all"><i id="right-toggle-icon" class="fas fa-chevron-right"></i></button>

            <!-- Main Header -->
            <header class="flex-shrink-0 flex justify-between items-center px-4 border-b border-gray-700 bg-gray-800/50 backdrop-blur-sm h-14">
                <div class="flex items-center space-x-4">
                    <button class="lg:hidden" onclick="toggleSidebar('left-sidebar')"><i class="fas fa-bars"></i></button>
                    <div class="hidden lg:block text-lg font-semibold">Conversation</div>
                </div>
                <div class="flex items-center space-x-4">
                    <div id="websocket-status" class="flex items-center space-x-2 text-sm"><div id="ws-indicator" class="w-3 h-3 rounded-full bg-green-500"></div><span id="ws-text">Connected</span></div>
                    <button class="lg:hidden" onclick="toggleSidebar('right-sidebar')"><i class="fas fa-cog"></i></button>
                </div>
            </header>

            <!-- Side-by-Side Content Panels -->
            <div class="flex-1 flex flex-col lg:flex-row overflow-hidden">
                <!-- Chat Panel -->
                <div id="chat-panel" class="w-full flex flex-col overflow-hidden transition-all">
                    <!-- Mobile Tabs Header -->
                    <div class="lg:hidden flex-shrink-0 flex space-x-4 px-4 border-b border-gray-700">
                        <button id="tab-chat" onclick="switchTab('chat')" class="tab-button py-3 px-2 text-sm font-semibold text-gray-400">Chat</button>
                        <button id="tab-canvas" onclick="switchTab('canvas')" class="tab-button py-3 px-2 text-sm font-semibold text-gray-400">Canvas</button>
                    </div>
                    <div id="chat-container-wrapper" class="flex-1 flex flex-col overflow-hidden">
                        <div id="chat-container" class="flex-1 overflow-y-auto p-6 space-y-6">
                            <div id="streaming-response-1" class="flex items-start gap-3"></div>
                        </div>
                        <div class="p-4 bg-gray-800 border-t border-gray-700">
                            <div class="relative bg-gray-700 rounded-lg">
                                <textarea id="prompt-input" rows="1" class="w-full bg-transparent p-4 pr-24 rounded-lg resize-none focus:outline-none" placeholder="Ask to generate a plot..."></textarea>
                                <div class="absolute right-4 top-1/2 -translate-y-1/2 flex items-center space-x-3">
                                    <label for="file-upload-input" class="cursor-pointer text-gray-400 hover:text-white"><i class="fas fa-paperclip"></i></label>
                                    <input type="file" id="file-upload-input" multiple>
                                    <button class="bg-cyan-500 hover:bg-cyan-600 text-white rounded-full w-8 h-8 flex items-center justify-center" onclick="sendMessage()"><i class="fas fa-arrow-up"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Canvas Panel -->
                <div id="canvas-panel" class="hidden lg:flex w-full lg:w-0 flex-col overflow-hidden border-l border-gray-700 transition-all">
                     <div class="flex-shrink-0 flex justify-between items-center px-4 h-14 border-b border-gray-700 bg-gray-800/50">
                        <h3 class="text-lg font-semibold">Canvas</h3>
                        <button onclick="hideCanvas()" class="text-gray-400 hover:text-white"><i class="fas fa-times"></i></button>
                     </div>
                    <div id="canvas-content" class="flex-1 p-6 overflow-y-auto">
                        <!-- Visual outputs appear here -->
                    </div>
                </div>
            </div>
        </main>

        <!-- Right Sidebar -->
        <aside id="right-sidebar" class="w-80 bg-gray-800 flex-shrink-0 flex flex-col p-4 space-y-6 border-l border-gray-700 lg:relative">
            <div class="flex justify-between items-center"><h2 class="text-xl font-bold">Context</h2><button class="lg:hidden" onclick="toggleSidebar('right-sidebar')"><i class="fas fa-times"></i></button></div>
            <div class="bg-gray-700 p-3 rounded-lg"><h3 class="font-semibold mb-2">User Session</h3><p class="text-sm"><strong>User:</strong> alex.doe@example.com</p><p class="text-sm text-gray-400 truncate"><strong>Token:</strong> eyJhbGci...<button class="text-cyan-400 ml-2 text-xs">copy</button></p><button class="w-full mt-3 text-sm bg-red-600/50 hover:bg-red-600/80 text-white py-1 px-3 rounded-lg transition-all">Logout</button></div>
            <div class="bg-gray-700 p-3 rounded-lg space-y-3"><h3 class="font-semibold">Model Configuration</h3><div><label for="model-select" class="text-sm font-medium">Model</label><select id="model-select" class="w-full mt-1 bg-gray-600 border-gray-500 rounded-md p-2 text-sm focus:ring-cyan-500 focus:border-cyan-500"></select></div><div><label for="temp-slider" class="text-sm font-medium">Temperature: <span id="temp-value">0.7</span></label><input id="temp-slider" type="range" min="0" max="1" step="0.1" value="0.7" class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer" oninput="document.getElementById('temp-value').innerText = this.value;"></div></div>
            <div class="bg-gray-700 p-3 rounded-lg space-y-3"><h3 class="font-semibold">Tools</h3><div id="tool-selection-list" class="space-y-2"></div><button onclick="toggleModal(true)" class="w-full mt-2 text-sm bg-cyan-500/50 hover:bg-cyan-500/80 text-white py-1 px-3 rounded-lg transition-all">Browse Marketplace</button></div>
            <div class="bg-gray-700 p-3 rounded-lg flex-grow flex flex-col"><h3 class="font-semibold mb-2">Uploaded Files</h3><ul id="file-list" class="space-y-2 overflow-y-auto flex-grow"></ul></div>
        </aside>
    </div>

    <script>
    // --- DOM Element References ---
    const dom = {
        chatPanel: document.getElementById('chat-panel'),
        canvasPanel: document.getElementById('canvas-panel'),
        chatContainerWrapper: document.getElementById('chat-container-wrapper'),
        canvasContent: document.getElementById('canvas-content'),
        tabChat: document.getElementById('tab-chat'),
        tabCanvas: document.getElementById('tab-canvas'),
        leftSidebar: document.getElementById('left-sidebar'),
        rightSidebar: document.getElementById('right-sidebar'),
        leftToggleIcon: document.getElementById('left-toggle-icon'),
        rightToggleIcon: document.getElementById('right-toggle-icon'),
        promptInput: document.getElementById('prompt-input'),
        chatContainer: document.getElementById('chat-container'),
        workspaceSelect: document.getElementById('workspace-select'),
        ragSourceList: document.getElementById('rag-source-list'),
        ragShowMoreBtn: document.getElementById('rag-show-more'),
        ragSearch: document.getElementById('rag-search'),
        toolSelectionList: document.getElementById('tool-selection-list'),
        marketplaceToolList: document.getElementById('marketplace-tool-list'),
        modelSelect: document.getElementById('model-select'),
        modal: document.getElementById('tool-marketplace-modal'),
        toastContainer: document.getElementById('toast-container'),
    };

    // --- State & Mock Data ---
    let state = {
        ragSourcesVisible: false,
        activeTools: [],
        availableTools: [
            { id: 'code-interpreter', name: 'Code Interpreter', description: 'Executes Python code to generate plots, analyze data, etc.', author: 'Gemini Team', server: 'prod-us-central1-a', helpUrl: '#' },
            { id: 'web-search', name: 'Web Search', description: 'Searches the web for real-time information.', author: 'External Inc.', server: 'api.search.io', helpUrl: '#' },
        ],
        ragSources: [ { id: 'wiki', name: 'Corporate Wiki' }, { id: 'proj-docs', name: 'Project Documentation' } ],
        workspaces: {
            'dev': { name: 'Code Development', tools: ['code-interpreter', 'web-search'], rag: ['proj-docs'], model: 'Gemini Pro' },
            'creative': { name: 'Creative Writing', tools: ['web-search'], rag: [], model: 'Claude 3 Opus' },
        },
        models: ['Gemini Pro', 'Claude 3 Opus', 'GPT-4 Turbo'],
    };

    // --- Core Functions ---

    function initialize() {
        dom.workspaceSelect.innerHTML = Object.keys(state.workspaces).map(id => `<option value="${id}">${state.workspaces[id].name}</option>`).join('');
        dom.modelSelect.innerHTML = state.models.map(m => `<option>${m}</option>`).join('');
        
        loadWorkspace('dev');
        renderMarketplace();
        switchTab('chat'); // Set initial tab for mobile

        const initialResponseEl = document.getElementById('streaming-response-1');
        streamText(initialResponseEl, "Hello! I'm ready to assist. Try asking me to 'generate a plot of sales data'.", 'model');

        dom.promptInput.addEventListener('input', () => {
            dom.promptInput.style.height = 'auto';
            dom.promptInput.style.height = (dom.promptInput.scrollHeight) + 'px';
        });
        dom.promptInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); sendMessage(); }
        });
    }

    function loadWorkspace(workspaceId) {
        const ws = state.workspaces[workspaceId];
        if (!ws) return;
        state.activeTools = [...ws.tools];
        state.ragSources.forEach(source => source.checked = ws.rag.includes(source.id));
        dom.modelSelect.value = ws.model;
        renderToolSelection();
        renderRagSources();
        renderMarketplace();
        showToast('info', `Workspace "${ws.name}" loaded.`);
    }

    function sendMessage() {
        const prompt = dom.promptInput.value.trim();
        if (!prompt) return;
        streamText(null, prompt, 'user');
        dom.promptInput.value = '';
        dom.promptInput.style.height = 'auto';
        
        if (prompt.toLowerCase().includes('plot')) {
            setTimeout(() => {
                const responseText = `Of course. I've generated the plot for you.`;
                streamText(null, responseText, 'model');
                renderToCanvas(`<img src="https://placehold.co/800x600/1E1E1E/E5E7EB?text=Sales+Data+Plot" alt="Sales Data Plot" class="max-w-full h-auto rounded-lg shadow-lg">`);
                showCanvas();
            }, 1000);
        } else {
            setTimeout(() => streamText(null, "I can help with that. Here are the details...", 'model'), 500);
        }
    }
    
    function streamText(el, text, role) {
        let messageWrapper = el || document.createElement('div');
        if (!el) dom.chatContainer.appendChild(messageWrapper);

        let contentEl;
        if (role === 'user') {
            messageWrapper.className = 'flex items-start gap-3 justify-end';
            messageWrapper.innerHTML = `<div class="bg-cyan-600 p-3 rounded-lg max-w-xl"><p>${text}</p></div><div class="w-8 h-8 rounded-full bg-gray-600 flex-shrink-0 flex items-center justify-center font-bold">U</div>`;
        } else {
            messageWrapper.className = 'flex items-start gap-3';
            messageWrapper.innerHTML = `<div class="w-8 h-8 rounded-full bg-gray-700 flex-shrink-0 flex items-center justify-center"><i class="fas fa-robot text-cyan-400"></i></div><div class="bg-gray-800 p-3 rounded-lg max-w-2xl w-full"><div class="prose prose-invert text-gray-300 streaming-cursor"></div><div class="mt-2 pt-2 border-t border-gray-700 flex items-center justify-between"><span class="text-xs text-gray-500">${dom.modelSelect.value}</span><div class="flex items-center space-x-3 text-gray-500"><button class="hover:text-white"><i class="fas fa-thumbs-up"></i></button><button class="hover:text-white"><i class="fas fa-thumbs-down"></i></button><button class="hover:text-white"><i class="fas fa-copy"></i></button></div></div></div>`;
            contentEl = messageWrapper.querySelector('.prose');
            
            let index = 0;
            contentEl.innerHTML = '';
            const interval = setInterval(() => {
                if (index < text.length) {
                    contentEl.innerHTML += text.charAt(index++);
                    dom.chatContainer.scrollTop = dom.chatContainer.scrollHeight;
                } else {
                    clearInterval(interval);
                    contentEl.classList.remove('streaming-cursor');
                }
            }, 20);
        }
        dom.chatContainer.scrollTop = dom.chatContainer.scrollHeight;
    }

    function renderToCanvas(htmlContent) {
        dom.canvasContent.innerHTML = htmlContent;
    }

    // --- UI Rendering and Toggles ---

    function showCanvas() {
        if (window.innerWidth < 1024) {
            switchTab('canvas');
        } else {
            dom.chatPanel.classList.remove('w-full');
            dom.chatPanel.classList.add('lg:w-1/2');
            dom.canvasPanel.classList.remove('hidden', 'lg:w-0');
            dom.canvasPanel.classList.add('lg:w-1/2', 'flex');
        }
    }

    function hideCanvas() {
        if (window.innerWidth < 1024) {
            switchTab('chat');
        } else {
            dom.chatPanel.classList.add('w-full');
            dom.chatPanel.classList.remove('lg:w-1/2');
            dom.canvasPanel.classList.add('hidden', 'lg:w-0');
            dom.canvasPanel.classList.remove('lg:w-1/2', 'flex');
        }
    }

    function renderToolSelection() {
        dom.toolSelectionList.innerHTML = state.activeTools.map(toolId => {
            const tool = state.availableTools.find(t => t.id === toolId);
            return `<label class="flex items-center space-x-2 text-sm"><input type="checkbox" class="form-checkbox bg-gray-600 border-gray-500 text-cyan-500 rounded focus:ring-cyan-500" checked onchange="toggleTool('${toolId}', this.checked)"><span>${tool.name}</span></label>`;
        }).join('');
    }

    function renderMarketplace() {
        dom.marketplaceToolList.innerHTML = state.availableTools.map(tool => {
            const isAdded = state.activeTools.includes(tool.id);
            return `<div class="bg-gray-700 p-4 rounded-lg">
                <div class="flex justify-between items-start">
                    <div class="pr-4"><h3 class="font-semibold text-lg">${tool.name}</h3><p class="text-sm text-gray-400">${tool.description}</p></div>
                    <div class="flex items-center flex-shrink-0">
                        <button onclick="toggleToolDetails('details-${tool.id}')" class="text-gray-400 hover:text-white text-sm mr-4">Details</button>
                        <button onclick="toggleTool('${tool.id}', ${!isAdded})" class="${isAdded ? 'bg-gray-600 text-gray-300' : 'bg-cyan-500 hover:bg-cyan-600 text-white'} font-bold py-2 px-4 rounded-lg text-sm transition-all" ${isAdded ? 'disabled' : ''}>${isAdded ? 'Added' : 'Add'}</button>
                    </div>
                </div>
                <div id="details-${tool.id}" class="hidden mt-4 pt-4 border-t border-gray-600 text-sm text-gray-400 space-y-2">
                    <p><strong>Author:</strong> ${tool.author}</p>
                    <p><strong>Server:</strong> <code class="bg-gray-900 px-1 py-0.5 rounded">${tool.server}</code></p>
                    <p><strong>Help:</strong> <a href="${tool.helpUrl}" target="_blank" class="text-cyan-400 hover:underline">Documentation</a></p>
                </div>
            </div>`;
        }).join('');
    }

    function toggleToolDetails(detailsId) { document.getElementById(detailsId).classList.toggle('hidden'); }

    function renderRagSources(filter = '') {
        const sourcesToRender = state.ragSources.filter(s => s.name.toLowerCase().includes(filter.toLowerCase()));
        dom.ragSourceList.innerHTML = '';
        const limit = state.ragSourcesVisible ? sourcesToRender.length : 3;
        sourcesToRender.slice(0, limit).forEach(source => {
            dom.ragSourceList.innerHTML += `<label class="flex items-center space-x-2 text-sm"><input type="checkbox" class="form-checkbox bg-gray-600 border-gray-500 text-cyan-500 rounded focus:ring-cyan-500" ${source.checked ? 'checked' : ''}><span>${source.name}</span></label>`;
        });
        dom.ragShowMoreBtn.style.display = sourcesToRender.length > 3 ? 'block' : 'none';
    }

    function toggleTool(toolId, shouldAdd) {
        state.activeTools = shouldAdd ? [...state.activeTools, toolId] : state.activeTools.filter(id => id !== toolId);
        renderToolSelection();
        renderMarketplace();
    }

    function toggleRagSources(show) {
        state.ragSourcesVisible = show;
        dom.ragShowMoreBtn.textContent = show ? 'Show Less' : 'Show More';
        dom.ragShowMoreBtn.setAttribute('onclick', `toggleRagSources(${!show})`);
        renderRagSources(dom.ragSearch.value);
    }



    function toggleModal(show) { dom.modal.classList.toggle('hidden', !show); dom.modal.classList.toggle('flex', show); }
    
    function toggleSidebar(sidebarId, forceClose = false) { document.getElementById(sidebarId).classList.toggle('open', !forceClose); }

    function toggleDesktopSidebar(sidebarId) {
        const isLeft = sidebarId === 'left-sidebar';
        const sidebar = isLeft ? dom.leftSidebar : dom.rightSidebar;
        const icon = isLeft ? dom.leftToggleIcon : dom.rightToggleIcon;
        sidebar.classList.toggle(isLeft ? '-ml-72' : 'mr-[-20rem]');
        icon.classList.toggle(isLeft ? 'fa-chevron-left' : 'fa-chevron-right');
        icon.classList.toggle(isLeft ? 'fa-chevron-right' : 'fa-chevron-left');
    }

    // This function is now only for mobile view
    function switchTab(tabName) {
        const isChat = tabName === 'chat';
        dom.chatContainerWrapper.classList.toggle('hidden', !isChat);
        dom.canvasPanel.classList.toggle('hidden', isChat); // Use the main canvas panel for mobile
        dom.tabChat.classList.toggle('active', isChat);
        dom.tabCanvas.classList.toggle('active', !isChat);
    }

    function showToast(type, message, duration = 3000) {
        const toast = document.createElement('div');
        const colors = { success: 'bg-green-500', error: 'bg-red-500', info: 'bg-blue-500' };
        toast.className = `w-64 p-3 rounded-lg text-white ${colors[type]} shadow-lg transition-all transform translate-x-full`;
        toast.textContent = message;
        dom.toastContainer.appendChild(toast);
        setTimeout(() => toast.classList.remove('translate-x-full'), 10);
        setTimeout(() => {
            toast.classList.add('opacity-0');
            toast.addEventListener('transitionend', () => toast.remove());
        }, duration);
    }

    window.onload = initialize;
    </script>
</body>
</html>
